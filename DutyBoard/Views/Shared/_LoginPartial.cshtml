@using Microsoft.AspNetCore.Identity
@using DutyBoard_Models.Account

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@if (SignInManager.IsSignedIn(User))
{
<form method="post" novalidate="novalidate">
    <div class="calcPanel">
        <ul class="ulCalc">
            <li style="--i:#add8e6; --j:#999;">
                    <span class="icon"><i class="fa-solid fa-user"></i></span>
                <span class="title"><a href="#" type="submit" data-bs-toggle="modal" data-bs-target="#modal" onClick="Calc()">Профиль</a></span>
            </li>
            <li style="--i:#a52a2a; --j:#fff;">
                    <span class="icon"><i class="fa-solid fa-right-from-bracket"></i></span>
                <span class="title"><a asp-action="Export" asp-controller="Home" type="button">Выйти</a></span>
            </li>
        </ul>

    </div>
</form>



    @*<form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm" class="accNavigation">
        <div class="accBox">
            <div class="logo">
                <img src="avatar.jpg" />
            </div>
            <p class="loginName">Tommy Boy</p>
        </div>
        <div class="toggleMenu"></div>
        <ul class="accMenu">
            <li><a href="#"><i class="fa-solid fa-user"></i>My Profile</a></li>
            <li><a href="#"><i class="fa-solid fa-gear"></i>Settings</a></li>
            <li><a href="#"><i class="fa-solid fa-circle-info"></i>Help</a></li>
            <li><a href="#"><i class="fa-solid fa-right-from-bracket"></i>Logout</a></li>
        </ul>*@

        @*        <ul class="nav navbar-nav navbar-right">
    <li>
    <a asp-area="" asp-controller="Manage" asp-action="Index" title="Manage">Hello @UserManager.GetUserName(User)!</a>
    </li>
    <li>
    <button type="submit" class="btn btn-link navbar-btn navbar-link">Log out</button>
    </li>
    </ul>*@
    @*</form>*@
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li><a asp-area="" asp-controller="Account" asp-action="Register">Register</a></li>
        <li><a asp-area="" asp-controller="Account" asp-action="Login">Log in</a></li>
    </ul>
}

<script>
    let toggleMenu = document.querySelector('.toggleMenu');
    let accNavigation = document.querySelector('.accNavigation');
    toggleMenu.onclick = function () {
        accNavigation.classList.toggle('active')
    }
</script>
